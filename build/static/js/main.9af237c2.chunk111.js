(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(2),r=a(3),s=a(4),i=a(1),l=a(5),o=a(0),u=a.n(o),h=a(9),m=a.n(h),p=function(e){return e&&e.getMonth},f=function(e,t,a){return a||(a=1),new Date(e,t,a)},d=function(e){return p(e)&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0},y=function(e){var t=e.getMonth()+1,a=e.getFullYear();return[31,d(a)?29:28,31,30,31,30,31,31,30,31,30,31][parseInt(t)-1]},v=function(e){var t=e.getMonth(),a=e.getFullYear();return f(a,t,1).getDay()},b={isLeapYear:d,getDaysOfMonth:y,getBeginDayOfMouth:v,getDisplayInfo:function(e){p(e)||(e=f(e));var t=e.getFullYear(),a=e.getMonth(),n=f(t,a);return{year:t,month:a,days:y(n),beginWeek:v(n)}},isOverdue:function(e,t,a){var n=new Date(e,t,a),c=new Date;return c=new Date(c.getFullYear(),c.getMonth(),c.getDate()),n.getTime()<c.getTime()},isToday:function(e,t,a,n){var c=new Date(e,t,a),r=new Date(n);return n=(r=new Date(r.getFullYear(),r.getMonth(),r.getDate())).getTime(),c.getTime()==n}},g=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(e){var t=this.props.year,a=this.props.month,n=this.props.day;this.props.ondayclick(t,a,n)}},{key:"render",value:function(){var e=this.props.year,t=this.props.month,a=this.props.day,n=this.props.selectdate,c=b.isOverdue(e,parseInt(t)-1,a)?"cm-item--disabled":"";return b.isToday(e,parseInt(t)-1,a,n)&&(c+=" active "),u.a.createElement("li",{onClick:this.onClick.bind(this),className:c,year:e,month:t,day:a},u.a.createElement("div",{className:"cm-field-wrapper "},u.a.createElement("div",{className:"cm-field-title"},a)))}}]),t}(u.a.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"_renderBeginDayOfMouth",value:function(e){for(var t=[],a=0;a<e;a++)t.push(u.a.createElement("li",{key:a,className:"cm-item--disabled"}));return t}},{key:"_renderDays",value:function(e,t,a){for(var n=[],c=1;c<=a;c++)n.push(u.a.createElement(g,{ondayclick:this.props.ondayclick,selectdate:this.props.selectdate,key:c,year:e,month:t,day:c}));return n}},{key:"render",value:function(){var e=this.props.year,t=this.props.month,a=new Date(e,parseInt(t)-1,1);a=a.getFullYear()+"-"+(a.getMonth()+1);var n=b.getDisplayInfo(new Date(e,parseInt(t)-1),1);return console.log(n),u.a.createElement("ul",{className:"cm-calendar-bd "},u.a.createElement("h3",{className:"cm-month calendar-cm-month js_month"},a),u.a.createElement("ul",{className:"cm-day-list"},this._renderBeginDayOfMouth(n.beginWeek),this._renderDays(e,t,n.days)))}}]),t}(u.a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.year,t=this.props.month;b.getDisplayInfo(new Date(e,t,0));return u.a.createElement("ul",{className:"cm-calendar "},u.a.createElement("ul",{className:"cm-calendar-hd"},["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"].map(function(e,t){return u.a.createElement("li",{key:t,className:"cm-item--disabled"},e)})),u.a.createElement(O,{ondayclick:this.props.ondayclick,selectdate:this.props.selectdate,year:e,month:t}))}}]),t}(u.a.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"_renderRight",value:function(){var e=[],t=this.props.right;if(t){for(var a=0,n=t.length;a<n;a++){var c=t[a];e.push(u.a.createElement("span",{onClick:c.callback.bind(c.view,this),key:a,className:c.value?"cm-header-btn fr":"cm-header-icon fr"},c.value?c.value:u.a.createElement("i",{className:"icon-"+c.tagname})))}return e}}},{key:"onClick",value:function(){this.props.backaction&&this.props.backaction()}},{key:"render",value:function(){return u.a.createElement("div",{className:"cm-header"},this._renderRight(),u.a.createElement("span",{className:" cm-header-icon fl  js_back",onClick:this.onClick.bind(this)},u.a.createElement("i",{className:"icon-back"})),u.a.createElement("h1",{className:"cm-page-title js_title"},this.props.title))}}]),t}(u.a.Component),E=(a(16),function(e){return function(t){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,t),Object(r.a)(a,[{key:"_render",value:function(t){for(var a=[],n=0,c=t.length;n<c;n++)a.push(u.a.createElement(e,{key:n,data:t[n]}));return a}},{key:"render",value:function(){var e=this.props.data;return console.log(e),u.a.createElement("ul",{className:"bus-list js_bus_list "},e.length>0?this._render(e):"\u6682\u65e0\u6570\u636e")}}]),a}(u.a.Component)}),D=a(7),N=function(){function e(){Object(c.a)(this,e),this.url="",this.param={},this.validates=[],this.type="GET"}return Object(r.a)(e,[{key:"pushValidates",value:function(e){"function"===typeof e&&this.validates.push(e)}},{key:"setParam",value:function(e,t){"object"===typeof e?Object.assign(this.param,e):this.param[e]=t}},{key:"buildurl",value:function(){return this.url}},{key:"onDataSuccess",value:function(){}},{key:"execute",value:function(e,t){var a=this;this._sendRequest(function(n){var c=n;"string"==typeof n&&(c=JSON.parse(n));for(var r=0,s=a.validates.length;r<s;r++)if(!a.validates[r](n))return"function"===typeof t&&t.call(a||this,c,n);var i="function"===typeof a.dataformat?a.dataformat(c):c;a.onDataSuccess&&a.onDataSuccess.call(a,i,n),"function"===typeof e&&e.call(a,i,n)})}},{key:"_getParamStr",value:function(e){var t="",a=!1;for(var n in this.param)a=!0,t=t+n+"="+("object"===typeof this.param[n]?JSON.stringify(this.param[n]):this.param[n])+e;return a&&(t=t.substr(0,t.length-1)),t}},{key:"_sendRequest",value:function(e){var t=this.buildurl(),a={method:this.type,headers:{"Content-Type":"application/json;charset=UTF-8"},mode:"cors",cache:"no-cache"};"POST"===this.type?a.body=JSON.stringify(this.param):-1===t.search(/\?/)?t+="?"+this._getParamStr("&"):t+="&"+this._getParamStr("&"),fetch(t,a).then(function(e){return e.json()}).then(function(t){e&&e(t)})}}]),e}(),S={getStorageSync:function(e){return localStorage.getItem(e)},setStorage:function(e){var t=e.key,a=JSON.stringify(e.data),n=e.callback;localStorage.setItem(t,a),n&&n()},getStorage:function(e,t){t(localStorage.getItem(e))}},_=function(){function e(t){Object(c.a)(this,e),"string"===typeof t?this.key=t:Object.assign(this,t),this.lifeTime||(this.lifeTime=1),this._keyCache="SYSTEM_KEY_TIMEOUT_MAP"}return Object(r.a)(e,[{key:"_getDeadline",value:function(){return 60*this.lifeTime*1e3}},{key:"get",value:function(e){var t=this.key,a=(new Date).getTime(),n=S.getStorageSync(t);return n?(n=JSON.parse(n)).deadLine<a?(this.removeOverdueCache(),null):n.sign&&e===n.sign?n.data:null:null}},{key:"set",value:function(e,t){var a=new Date,n=a.setTime(a.getTime()+this._getDeadline());this._saveData(e,n,t)}},{key:"_saveData",value:function(e,t,a){var n=this.key,c={deadLine:t,data:e,sign:a},r=this;S.setStorage({key:n,data:JSON.stringify(c),success:function(){r._saveSysList(n,c.deadLine)}})}},{key:"_saveSysList",value:function(e,t){if(e&&t&&!(t<(new Date).getTime())){var a=this._keyCache;S.getStorage({key:a,complete:function(n){var c={};n.data&&(c=JSON.parse(n.data)),c[e]=t,S.setStorage({key:a,data:JSON.stringify(c)})}})}}},{key:"removeOverdueCache",value:function(){var e=(new Date).getTime(),t=this._keyCache;S.getStorage({key:t,success:function(a){for(var n in a&&a.data&&(a=JSON.parse(a.data)),a)a[n]<e&&(delete a[n],S.removeStorage({key:n,success:function(){}}));S.setStorage({key:t,data:JSON.stringify(a)})}})}}]),e}(),w=function(e){function t(){var e;Object(c.a)(this,t),e=Object(s.a)(this,Object(i.a)(t).call(this));var a=Object(n.a)(Object(n.a)(e));return e.domain="https://www.easy-mock.com/mock/5c29d45956db174d47ce162a/example_copy",e.param={head:{version:"1.0.1",ct:"ios"}},e.cacheData=null,e.pushValidates(function(e){return a._baseDataValidate(e)}),e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"_baseDataValidate",value:function(e){return"string"===typeof e&&(e=JSON.parse(e)),0===e.errno&&(e.data&&(e=e.data),!0)}},{key:"dataformat",value:function(e){return"string"===typeof e&&(e=JSON.parse(e)),e.data&&(e=e.data),e.data&&(e=e.data),e}},{key:"buildurl",value:function(){return this.domain+this.url}},{key:"getSign",value:function(){return JSON.stringify(this.param)}},{key:"onDataSuccess",value:function(e,t){this.cacheData&&this.cacheData.set&&this.cacheData.set(e,this.getSign())}},{key:"execute",value:function(e,a){var n=null;!a&&this.cacheData&&this.cacheData.get&&(n=this.cacheData.get(this.getSign()))?e(n):Object(D.a)(Object(i.a)(t.prototype),"execute",this).call(this,e)}}]),t}(N),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(i.a)(t).call(this))).key="DEMO_LIST",e.lifeTime=30,e}return Object(l.a)(t,e),t}(_),C=new(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(i.a)(t).call(this))).url="/train/list",e.type="GET",e.cacheData=new T,e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onDataSuccess",value:function(e,a){Object(D.a)(Object(i.a)(t.prototype),"onDataSuccess",this).call(this,e,a);var n={_indate:(new Date).getTime()};console.log("\u6267\u884c\u6570\u636e\u4e0a\u62a5\u903b\u8f91",n)}}]),t}(w)),M=(u.a.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={title:"\u6211\u662f\u6807\u9898"},a.state.right=[{view:Object(n.a)(Object(n.a)(a)),tagname:"search",callback:function(){console.log(this),console.log("\u641c\u7d22")}},{view:Object(n.a)(Object(n.a)(a)),tagname:"tips",value:"\u8bf4\u660e",callback:function(){alert("\u6211\u662f\u6309\u94ae")}}],a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onBackaction",value:function(){console.log("\u8fd4\u56de")}},{key:"render",value:function(){return u.a.createElement(j,{right:this.state.right,title:this.state.title,backaction:this.onBackaction.bind(this)})}}]),t}(u.a.Component)),J=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data;return u.a.createElement("li",{className:"bus-list-item "},u.a.createElement("div",{className:"bus-seat"},u.a.createElement("span",{className:" fl"},e.train_number),u.a.createElement("span",{className:" fr"},e.use_time+"\u5206"," ")),u.a.createElement("div",{className:"detail"},u.a.createElement("div",{className:"sub-list set-out"},u.a.createElement("span",{className:"bus-go-off"},e.from_time)," ",u.a.createElement("span",{className:"start"},u.a.createElement("span",{className:"icon-circle s-icon1"}),e.from_station)," ",u.a.createElement("span",{className:"fr price"},"\uffe5",e.seats[0].seat_price,"\u8d77")),u.a.createElement("div",{className:"sub-list"},u.a.createElement("span",{className:"bus-arrival-time"},e.to_time)," ",u.a.createElement("span",{className:"end"},u.a.createElement("span",{className:"icon-circle s-icon2"}),e.to_station)," ",u.a.createElement("span",{className:"fr "},"666\u5f20"))),u.a.createElement("div",{className:"bus-seats-info"},u.a.createElement("span",null,"\u786c\u5ea7(555) "),u.a.createElement("span",null,"\u786c\u5367(1653) "),u.a.createElement("span",null,"\u8f6f\u5367(56) "),u.a.createElement("span",null,"\u65e0\u5ea7(334) ")))}}]),t}(u.a.Component),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={data:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.setParam({a:1,b:"aa"}),C.execute(function(t){e.setState({data:e.state.data.concat(t)})})}},{key:"render",value:function(){var e=E(J);return u.a.createElement("div",{className:"page-list cm-page"},u.a.createElement(M,null),u.a.createElement("div",{className:"calendar-bar-wrapper js_calendar_wrapper"}),u.a.createElement(e,{data:this.state.data}))}}]),t}(u.a.Component);m.a.render(u.a.createElement(I,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.9af237c2.chunk111.js.map